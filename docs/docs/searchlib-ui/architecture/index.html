<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/searchlib/blog/rss.xml" title="EEA Semantic Search Service Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/searchlib/blog/atom.xml" title="EEA Semantic Search Service Blog Atom Feed"><title data-react-helmet="true">Architecture | EEA Semantic Search Service</title><meta data-react-helmet="true" property="og:url" content="https://eea.github.io//searchlib/docs/searchlib-ui/architecture"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Architecture | EEA Semantic Search Service"><meta data-react-helmet="true" name="description" content="ElasticSearch-powered React components and independent service."><meta data-react-helmet="true" property="og:description" content="ElasticSearch-powered React components and independent service."><link data-react-helmet="true" rel="shortcut icon" href="/searchlib/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://eea.github.io//searchlib/docs/searchlib-ui/architecture"><link data-react-helmet="true" rel="alternate" href="https://eea.github.io//searchlib/docs/searchlib-ui/architecture" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://eea.github.io//searchlib/docs/searchlib-ui/architecture" hreflang="x-default"><link rel="stylesheet" href="/searchlib/assets/css/styles.96e4b250.css">
<link rel="preload" href="/searchlib/assets/js/runtime~main.657a0907.js" as="script">
<link rel="preload" href="/searchlib/assets/js/main.23ad5437.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/searchlib/"><img src="/searchlib/img/logo.svg" alt="Semantic Search Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/searchlib/img/logo.svg" alt="Semantic Search Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Semantic Search</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/searchlib/docs/searchlib-ui/intro">Searchlib UI</a><a class="navbar__item navbar__link navbar__link--active" href="/searchlib/docs/harvesting/intro">Harvester</a><a class="navbar__item navbar__link navbar__link--active" href="/searchlib/docs/indexing">Indexing</a><a class="navbar__item navbar__link navbar__link--active" href="/searchlib/docs/deployment/intro">Deployment</a><a class="navbar__item navbar__link" href="/searchlib/docs/quickaccess">Quick access</a><a class="navbar__item navbar__link" href="/searchlib/ecosystem">Services diagram</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/eea/searchlib" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/searchlib/"><img src="/searchlib/img/logo.svg" alt="Semantic Search Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/searchlib/img/logo.svg" alt="Semantic Search Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Semantic Search</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/searchlib/docs/searchlib-ui/intro">Searchlib UI</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/searchlib/docs/harvesting/intro">Harvester</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/searchlib/docs/indexing">Indexing</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/searchlib/docs/deployment/intro">Deployment</a></li><li class="menu__list-item"><a class="menu__link" href="/searchlib/docs/quickaccess">Quick access</a></li><li class="menu__list-item"><a class="menu__link" href="/searchlib/ecosystem">Services diagram</a></li><li class="menu__list-item"><a href="https://github.com/eea/searchlib" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Searchlib UI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/searchlib/docs/searchlib-ui/intro">Intro</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/searchlib/docs/searchlib-ui/architecture">Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/searchlib/docs/searchlib-ui/language">Language features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/searchlib/docs/searchlib-ui/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/searchlib/docs/searchlib-ui/developing">Developing Searchlib-UI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/searchlib/docs/searchlib-ui/standalone">Running as standalone app</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/searchlib/docs/searchlib-ui/plone">Integrate with classic Plone</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/searchlib/docs/searchlib-ui/volto">Integrate with Volto</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/searchlib/docs/searchlib-ui/theming">Theming searchlib</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Harvester</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/searchlib/docs/harvesting/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/searchlib/docs/harvesting/architecture">Architecture</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Indexing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/searchlib/docs/indexing">Indexing ElasticSearch</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/searchlib/docs/deployment/intro">Deployment</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Architecture</h1></header><div class="markdown"><p>ElasticSearch-powered React components and independent service.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="context"></a>Context<a class="hash-link" href="#context" title="Direct link to heading">#</a></h2><p>EEA needs a modern, flexible and generic search solution, one that is
platform-independent and that can scale from micro-small listings to
full-featured custom search engines.</p><p>We already have eea.searchserver.js which provides a solid and viable solution
for common operations such as indexing from various sources, index updating and
provides a public-facing Search UI. The problem is one of outdated technology,
difficulties in expanding it and the need for domain-specific knowledge.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="requirements"></a>Requirements<a class="hash-link" href="#requirements" title="Direct link to heading">#</a></h3><p>The Search Server UI should have the following characteristics:</p><ul><li>It should be a reusable component. It needs to be easily deployable as a
separate app or integrated in other websites (Plone 4/5 classic, Volto).</li><li>It should be easy to extend and contribute from many developer teams.</li><li>In its most basic instance, it needs to function based on declarative
configuration. With just configuration it should be possible to create
complex search-level experiences (various facets, configurable listing views,
autocomplete experience, etc). The idea is to make all the &quot;special cases&quot;
part of the default library, so that it will grow its capabilities.</li><li>The configuration can be passed as a JSON.</li><li>It should allow multiple instances per website.</li><li>It should function in conjunction with the indexing done in the EEA Search
Server Harvester.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="solution"></a>Solution<a class="hash-link" href="#solution" title="Direct link to heading">#</a></h3><p>The next generate EEA Semantic Search UI will be based on React, as it will
provide synergy with the rest of the active web development teams. React is the
most popular frontend framework and it has the benefit of having a large
support from many communities and vendors. The ElasticSearch corporation
already provides a library to integrate with their ElasticSearch servers and
that library will be used as the basis for our SearchUI solution.</p><p>ElasticSearch company&#x27;s official ElasticSearch UI components are considered the
most future-proof base for our final product. The react-search-ui library
provides a set of &quot;headless&quot; virtual components with concrete implementation in
react-search-ui-views. It is a solid base, with code that is easy to understand
and we will start our implementation from there.</p><p>We will also draw inspiration and adopt or include implementations of search
components from other ES libraries:</p><ul><li><a href="https://github.com/searchkit/searchkit" target="_blank" rel="noopener noreferrer">https://github.com/searchkit/searchkit</a></li><li><a href="https://github.com/appbaseio/reactivesearch" target="_blank" rel="noopener noreferrer">https://github.com/appbaseio/reactivesearch</a></li><li><a href="https://github.com/appbaseio/searchbox" target="_blank" rel="noopener noreferrer">https://github.com/appbaseio/searchbox</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="technology-stack"></a>Technology stack<a class="hash-link" href="#technology-stack" title="Direct link to heading">#</a></h3><ul><li>React</li><li>react-search-ui - <a href="https://github.com/elastic/search-ui/" target="_blank" rel="noopener noreferrer">https://github.com/elastic/search-ui/</a></li><li>react-search-ui-views</li><li>EEA SemanticSearch monorepo</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="monorepo-setup"></a>Monorepo setup<a class="hash-link" href="#monorepo-setup" title="Direct link to heading">#</a></h3><p>To facilitate the development of a flexible package architecture, we will use
a monorepo setup. This means that the components and implementation shells will
be developed and run side by side, ensuring ease of development and testing.</p><p>The following packages will be part of the initial setup:</p><ul><li>@eeacms/searchlib (main library, React)</li><li>@eeacms/searchlib-hierarchical-multifacet-x (various addons)</li><li>@eeacms/search-shell-react (Full-features standalone React app. Should be able to do SSR)</li><li>@eeacms/search-shell-classic (Shell around the main library to use in plain Plone)</li><li>@eeacms/search-shell-component (web component variant)</li></ul><p>Later, we may develop new package, such as:</p><ul><li>@eeacms/searchlib-editor - TTW builder of Search Engine configuration</li></ul><p>The monorepo setup will be based on Lerna and Yarn workspaces (NX might be possible, but it&#x27;s too TypeScript-centric).</p><p>We will integrate Storybook and use it as testing infrastructure for Cypress E2E testing.</p><p>For documentation we will use Docusaurus <a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer">https://docusaurus.io/</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="language-infrastructure"></a>Language infrastructure<a class="hash-link" href="#language-infrastructure" title="Direct link to heading">#</a></h3><p>Distribution and package setup:</p><ul><li>use React/babel/webpack setup</li><li>all packages can be distributed as compiled libraries</li><li>To use the shells, include two distributed libs: main library + shell dist,
then use from plan JS</li><li>main library can be used directly from React</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/eea/searchlib/edit/develop/website/docs/searchlib-ui/1-architecture.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/searchlib/docs/searchlib-ui/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Intro</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/searchlib/docs/searchlib-ui/language"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Language features Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#context" class="table-of-contents__link">Context</a><ul><li><a href="#requirements" class="table-of-contents__link">Requirements</a></li><li><a href="#solution" class="table-of-contents__link">Solution</a></li><li><a href="#technology-stack" class="table-of-contents__link">Technology stack</a></li><li><a href="#monorepo-setup" class="table-of-contents__link">Monorepo setup</a></li><li><a href="#language-infrastructure" class="table-of-contents__link">Language infrastructure</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/eea/searchlib" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 EEA. Built with Docusaurus.</div></div></div></footer></div>
<script src="/searchlib/assets/js/runtime~main.657a0907.js"></script>
<script src="/searchlib/assets/js/main.23ad5437.js"></script>
</body>
</html>